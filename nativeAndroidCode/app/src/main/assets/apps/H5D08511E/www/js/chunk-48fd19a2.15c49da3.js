(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48fd19a2"],{2159:function(t,e,i){},"31af":function(t,e,i){},"37fa":function(t,e){t.exports="data:image/png;base64,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"},"3a5e":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"loading"},[i("van-loading",{attrs:{color:"#1989fa",size:"80px"}})],1)},a=[],o={name:"Loading"},n=o,r=(i("497f"),i("0c7c")),c=Object(r["a"])(n,s,a,!1,null,"802598ba",null);e["a"]=c.exports},"497f":function(t,e,i){"use strict";var s=i("2159"),a=i.n(s);a.a},"59ea":function(t,e,i){"use strict";var s=i("94e6"),a=i.n(s);a.a},"94e6":function(t,e,i){},f429:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"monitor"},[t.isLoading?s("Loading"):t._e(),s("div",{staticClass:"monitor-title clearfix"},[s("span",{staticClass:"icon",on:{click:t.back}},[s("van-icon",{attrs:{name:"arrow-left",color:"#fff",size:"17"}})],1),s("span",[t._v("Monitor")])]),s("div",{staticClass:"monitor-box clearfix"},[s("div",{staticClass:"bed"},[t._v(t._s(this.state))]),s("div",{staticClass:"form"},[s("div",{staticClass:"group"},[s("div",{staticClass:"real-time"},[t._v("Real-time Data")]),s("div",{staticClass:"box",class:{red:t.heartRateRed,yellow:t.heartRateyellow}},[s("div",{staticClass:"img-box",on:{click:function(e){return t.getExplain(t.heartRateExplain)}}},[s("img",{staticClass:"img-size",attrs:{src:i("37fa"),alt:""}})]),s("div",{staticClass:"f-l one"},[s("div",{staticClass:"shake"},[t._v(t._s(t.heartRateNum))]),s("div",{staticClass:"time"},[t._v("Times / Min")])]),s("div",{staticClass:"f-l two"}),t._m(0)]),s("div",{staticClass:"box",class:{red:t.resporatoryRed,yellow:t.resporatoryyellow}},[s("div",{staticClass:"img-box",on:{click:function(e){return t.getExplain(t.resporatoryRateExplain)}}},[s("img",{staticClass:"img-size",attrs:{src:i("37fa"),alt:""}})]),s("div",{staticClass:"f-l one"},[s("div",{staticClass:"shake"},[t._v(t._s(t.resporatoryNum))]),s("div",{staticClass:"time"},[t._v("Times / Min")])]),s("div",{staticClass:"f-l two"}),t._m(1)]),s("div",{staticClass:"box"},[s("div",{staticClass:"img-box",on:{click:function(e){return t.getExplain(t.bodyMovingExplain)}}},[s("img",{staticClass:"img-size",attrs:{src:i("37fa"),alt:""}})]),s("div",{staticClass:"f-l one"},[s("div",{staticClass:"shake"},[t._v(t._s(t.bodyTimes))]),s("div",{staticClass:"time"},[t._v("Times")])]),s("div",{staticClass:"f-l two"}),t._m(2)])])])])],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"f-l three"},[i("div",{staticClass:"rate"},[t._v("Heart Rate")]),i("div",{staticClass:"span"},[i("span",{staticClass:"left-text"},[t._v("55")]),i("span",{staticClass:"middle-text"},[t._v("normal range")]),i("span",{staticClass:"right-text"},[t._v("83")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"f-l three"},[i("div",{staticClass:"rate"},[t._v("Resporatory Rate")]),i("div",{staticClass:"span"},[i("span",{staticClass:"left-text"},[t._v("12")]),i("span",{staticClass:"middle-text"},[t._v("normal range")]),i("span",{staticClass:"right-text"},[t._v("20")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"f-l three"},[i("div",{staticClass:"rate"},[t._v("Body Moving")])])}],o=(i("d3b7"),i("ac1f"),i("5319"),i("5530")),n=i("2b0e"),r=i("f564"),c=i("d399"),l=i("2f62"),m=i("995e"),u=i("7cb4"),h=i("09e4"),d=i("3a5e");n["a"].use(r["a"]),n["a"].use(c["a"]);var f={components:{Loading:d["a"]},data:function(){return{heartRateNum:0,resporatoryNum:0,tempBodyTimes:0,bodyTimes:0,bodyMovingNum:0,heartRateRed:!1,heartRateyellow:!1,resporatoryRed:!1,resporatoryyellow:!1,isFirstOpen:!0,myTimeOut:"",myTimeOut2:"",isTimeOut:!1,isPending:!1,state:"",times:0,info:{},active:0,email:"",password:"",passwordAgain:"",monitorShow:!0,heartRateExplain:"It refers to the heart rate value that occurs most frequently during the sleep. The reference range for night-time heart rate is 43 ~ 83 times/minute. The higher the heart rate, the greater the heart load.",resporatoryRateExplain:"It refers to the respiratory frequency value that occurs most frequently during the sleep. The reference range is 9 to 21 times per minute. Fever, pain, lack of oxygen, and upper airway obstruction may cause Tachypnea",bodyMovingExplain:"It refers to the movement during sleep, which is collected by sensors due to body turning, shaking, etc. Excessive body movement will affect sleep quality.The reference range of body movment is 50-200 times per night."}},beforeDestroy:function(){this.clearMyTimeOut(),this.clearMyTimeOut2()},created:function(){console.log("created: isMonitoring ="+this.isMonitoring),this.clearMyTimeOut(),this.times=0,this.isFirstOpen=!0,this.setIsMonitoring(!0),console.log("open isMonitoring ="+this.isMonitoring),this.setMyTimeOut(),this.open()},computed:Object(o["a"])({},Object(l["c"])(["uid","isMonitoring","isLoading","monitorData","monitorState"])),methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["setIsMonitoring"])),{},{monitor:function(){var t=this;if(!this.isPending){this.isPending=!0;var e={url:m["B"],data:{}};this.uid&&(e.data["uid"]=this.uid),Object(u["a"])(e).then((function(e){if(200===e.data.code)console.log(e.data.data),t.times=0,t.info=e.data.data,t.state=e.data.data.state,t.heartRateNum=e.data.data.heart,t.resporatoryNum=e.data.data.breathe,t.bodyMovingNum=e.data.data.move,0===t.bodyMovingNum?(t.bodyTimes=0,t.isFirstOpen=!1):(t.isFirstOpen&&(t.isFirstOpen=!1,t.tempBodyTimes=t.bodyMovingNum),t.bodyTimes=t.bodyMovingNum-t.tempBodyTimes>0?t.bodyMovingNum-t.tempBodyTimes:0);else{if(t.times+=1,t.state="Not working",t.heartRateNum=0,t.resporatoryNum=0,t.bodyMovingNum=0,t.bodyTimes=0,t.times<2&&Object(h["a"])(e.data,t),212===e.data.code){Object(h["a"])(e.data,t);var i=t;t.myTimeOut2=setInterval((function(){i.$router.replace("/report")}),2e3)}console.log("time="+t.times)}})).catch((function(t){console.log(t)})).finally((function(){t.isPending=!1}))}},open:function(){var t=this,e={url:m["C"],data:{}};this.uid&&(console.log(this.uid),e.data["uid"]=this.uid),Object(u["a"])(e).then((function(e){200===e.data.code||Object(h["a"])("Please press the device button to keep the indicator light on",t)})).catch((function(t){console.log("err chunk",t)}))},close:function(){var t=this,e={url:m["e"],data:{}};this.uid&&(e.data["uid"]=this.uid),Object(u["a"])(e).then((function(e){200===e.data.code?(t.setIsMonitoring(!1),console.log("close: isMonitoring = "+t.isMonitoring)):t.setIsMonitoring(!1)})).catch((function(e){t.setIsMonitoring(!1),console.log(e)}))},setMyTimeOut:function(){if(!0===this.isTimeOut)return console.log("setMyTimeOut isTimeOut= "+this.isTimeOut),void this.clearMyTimeOut();this.isTimeOut=!0;var t=this;this.isPending=!1,this.myTimeOut=setInterval((function(){console.log("setMyTimeOut isMonitoring= "+t.isMonitoring),t.isMonitoring||t.clearMyTimeOut()}),3e3)},clearMyTimeOut:function(){console.log("clearMyTimeOut: isMonitoring = "+this.isMonitoring+"    isTimeOut = "+this.isTimeOut),this.isMonitoring&&this.close(),this.isTimeOut=!1,clearTimeout(this.myTimeOut),this.myTimeOut=null},clearMyTimeOut2:function(){clearTimeout(this.myTimeOut2),this.myTimeOut2=null},getResource:function(t){var e=this,i={url:m["r"],data:{name:t,type:1}};Object(u["a"])(i).then((function(t){e.headImgUrl="data:image/jpeg;base64,"+t.data})).catch((function(t){console.log(t)}))},back:function(){this.$router.go(-1)},getExplain:function(t){Object(c["a"])({duration:3e3,closeOnClick:!0,message:t})}}),watch:{monitorData:function(t){console.log(t);var e=JSON.parse(t);this.times=0,this.info=e.body,this.state=e.body.state,this.heartRateNum=e.body.heart,this.resporatoryNum=e.body.breathe,this.bodyMovingNum=e.body.move,0===this.bodyMovingNum?(this.bodyTimes=0,this.isFirstOpen=!1):(this.isFirstOpen&&(this.isFirstOpen=!1,this.tempBodyTimes=this.bodyMovingNum),this.bodyTimes=this.bodyMovingNum-this.tempBodyTimes>0?this.bodyMovingNum-this.tempBodyTimes:0)},monitorState:function(t){console.log(t);var e=JSON.parse(t);this.times=0,this.info=e.body;var i=this.info.type,s=this.info.state;if(0==i&&0==s)this.times+=1,this.state="Not working",this.heartRateNum=0,this.resporatoryNum=0,this.bodyMovingNum=0,this.bodyTimes=0,Object(h["a"])("Please press the device button to keep the indicator light on",this);else if(1==i&&0==s){this.times+=1,this.state="Not working",this.heartRateNum=0,this.resporatoryNum=0,this.bodyMovingNum=0,this.bodyTimes=0,Object(h["a"])("The device is not online",this);var a=this;this.myTimeOut2=setInterval((function(){a.$router.replace("/report")}),2e3)}},heartRateNum:function(t){"Not working"===this.state||t>=0&&t<45||t>=100?(this.heartRateRed=!0,this.heartRateyellow=!1):t>=45&&t<55||t>=83&&t<100?(this.heartRateRed=!1,this.heartRateyellow=!0):(this.heartRateRed=!1,this.heartRateyellow=!1)},resporatoryNum:function(t){"Not working"===this.state||t>=0&&t<9||t>=21?(this.resporatoryRed=!0,this.resporatoryyellow=!1):t>=9&&t<12||t>=18&&t<21?(this.resporatoryRed=!1,this.resporatoryyellow=!0):(this.resporatoryRed=!1,this.resporatoryyellow=!1)}}},y=f,v=(i("fb53"),i("59ea"),i("0c7c")),g=Object(v["a"])(y,s,a,!1,null,"71ec5682",null);e["default"]=g.exports},fb53:function(t,e,i){"use strict";var s=i("31af"),a=i.n(s);a.a}}]);