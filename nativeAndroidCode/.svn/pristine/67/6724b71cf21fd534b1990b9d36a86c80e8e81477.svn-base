(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3538e85e"],{"29fe":function(t,e,i){},"2d9c":function(t,e,i){"use strict";var a=i("c4e1"),s=i.n(a);s.a},6712:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user follow"},[a("div",{staticClass:"top-bg"},[a("div",{staticClass:"top-bg"},[a("van-nav-bar",{attrs:{"left-arrow":"",border:!1},on:{"click-left":t.onClickLeft}})],1)]),a("div",{staticClass:"user-code"},[a("div",{staticClass:"code-user-info"},[a("div",{staticClass:"code-user-img"},[a("div",{staticClass:"image"},[a("van-image",{attrs:{round:"",width:"2rem",height:"2rem",fit:"cover",src:this.codeUrl}})],1)])]),a("div",{staticClass:"info"},[a("p",{staticClass:"name"},[t._v(t._s(this.info.nickname))]),a("div",{staticClass:"sex"},[a("p",{staticClass:"sex-img"},[a("van-image",{attrs:{round:"",width:"0.5rem",height:"0.5rem",fit:"cover",src:i("c777")}})],1),a("p",{staticClass:"sex-word"},[a("span",[t._v(t._s(this.info.id))])])]),t.correctInfo?a("div",{staticClass:"code"},[a("div",{staticClass:"say-hello"},[a("van-row",{attrs:{type:"flex",justify:"center"}},[a("van-col",{attrs:{span:"20"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.remark,expression:"remark"}],staticClass:"other",attrs:{rows:"3",cols:"20",placeholder:"Say Hello !",name:"Other"},domProps:{value:t.remark},on:{input:function(e){e.target.composing||(t.remark=e.target.value)}}})]),a("van-col",{attrs:{span:"4"}},[a("div",{staticClass:"images"},[a("van-image",{attrs:{width:"15px",height:"15px",src:i("2dda")}})],1)])],1)],1),a("div",{staticClass:"follow-btn"},[a("van-button",{staticClass:"btn",attrs:{type:"default"},on:{click:t.follow}},[t._v("follow")])],1)]):t._e()])]),t._m(0)])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"code-bottom"},[i("p",[t._v(" Send this QR code to others. After scanning this QR, they can access to your data. ")])])}],n=(i("d3b7"),i("ac1f"),i("1276"),i("2b0e")),o=i("d399"),c=i("09e4"),r=i("7cb4"),l=i("995e"),d=i("c674"),A=i.n(d);n["default"].use(o["a"]);var f={data:function(){return{isPending:!1,email:"",remark:"",info:{},codeUrl:"",inviteKey:"",correctInfo:!0}},created:function(){this.email=this.$route.params.email,this.email&&""!==this.email?this.getUserInfo():(this.correctInfo=!1,this.inviteKey=this.$route.params.inviteKey,this.inviteKey&&""!==this.inviteKey&&this.scanQRCode())},methods:{onClickLeft:function(){this.$router.push({name:"user"})},follow:function(){var t=this;if(!this.isPending){this.isPending=!0;var e={url:l["F"],data:{email:this.email,remark:this.remark}};Object(r["a"])(e).then((function(e){200===e.data.code?(console.log("发起关注成功..."),A()({type:"success",message:"Sent successfully."}),t.isPending=!1,t.$router.push("/user")):Object(c["a"])(e.data)})).catch((function(t){console.log(t)})).finally((function(){t.isPending=!1}))}},unfollow:function(){},getUserInfo:function(){var t=this;if(!this.isPending){this.isPending=!0;var e={url:l["t"],data:{email:this.email}};Object(r["a"])(e).then((function(e){if(200===e.data.code){t.info=e.data.data,t.isPending=!1;var i=t.info.headImageUrl;if(i){var a=i.split("/");t.getResource(a[a.length-1])}}else console.log("getUserInfo eslse",e.data),t.correctInfo=!1,Object(c["a"])(e.data)})).catch((function(e){t.correctInfo=!1,console.log(e)})).finally((function(){t.isPending=!1}))}},scanQRCode:function(){var t=this;if(!this.isPending){this.isPending=!0;var e={url:l["G"],data:{inviteKey:this.inviteKey}};Object(r["a"])(e).then((function(e){if(200===e.data.code){t.info=e.data.data,t.email=t.info.email,t.isPending=!1;var i=t.info.headImageUrl;if(i){var a=i.split("/");t.getResource(a[a.length-1])}}else Object(c["a"])(e.data)})).catch((function(t){console.log(t)})).finally((function(){t.isPending=!1}))}},getResource:function(t){var e=this;if(!this.isPending){this.isPending=!0;var i={url:l["r"],data:{name:t,type:1}};Object(r["a"])(i).then((function(t){e.codeUrl="data:image/jpeg;base64,"+t.data})).catch((function(t){console.log(t)})).finally((function(){e.isPending=!1}))}}}},u=f,h=(i("2d9c"),i("f2a0"),i("2877")),g=Object(h["a"])(u,a,s,!1,null,"e3481d70",null);e["default"]=g.exports},c4e1:function(t,e,i){},c777:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAE6ADAAQAAAABAAAAEwAAAAAgb1CmAAABkUlEQVQ4Ea1UvS8EQRx9u0ckCCcnuYRORHO9gloloaOgUGgo1IjEX6ARUV+h8FHplVrlhnC5VlZw4uNE3O14v53Zm82d45b7JZvdnXnvze9zgDaa852W8lZ7gaclBJiFgxygMoDzAAUPLk6BdN7J7b/WcxvElLc4h6C6S2C2Hhz79+Gm1pzcwXFsjefETHkLGxQ64tJPQsLICi7Ex/g1z4xHIpTM3NR85GEoFuYoKBWokoXbDYztAFcrwOAMn2mg+swtBqEqQPkG8A+5VksZQx4YlRx2aDeY7GahPZ4BdycaxmogPQmMbAOFdYpXZZ0pCfl7OmdStZZMkXdO74pA/4RlGL4WC8tv9379eqdY17CFGb6ppvRRAgvKQKonRtB8I8aGTGKdPPvzPsbQfC0mnZ3E+saZt2vLMHwtFo6I3Wv6JaENLQMVtsrbpYUZvmmNdB4obXG3sfMzU7pyDs8NPoCXC+CWcGu+zKr8tnUCdJiiKkPruptyQstGfDRKwql5Fgn859ZoEBPRv95nkUNteX8Bz+SKg7RBJKAAAAAASUVORK5CYII="},f2a0:function(t,e,i){"use strict";var a=i("29fe"),s=i.n(a);s.a}}]);