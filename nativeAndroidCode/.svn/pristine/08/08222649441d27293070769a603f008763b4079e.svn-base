(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f3b4926a"],{2866:function(t,e,a){"use strict";var i=a("c6e3"),s=a.n(i);s.a},"29fe":function(t,e,a){},6712:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user follow"},[i("div",{staticClass:"top-bg"},[i("div",{staticClass:"top-bg"},[i("van-nav-bar",{attrs:{"left-arrow":"",border:!1},on:{"click-left":t.onClickLeft}})],1)]),i("div",{staticClass:"user-code"},[i("div",{staticClass:"code-user-info"},[i("div",{staticClass:"code-user-img"},[i("div",{staticClass:"image"},[i("van-image",{attrs:{round:"",width:"2rem",height:"2rem",fit:"cover",src:this.codeUrl}})],1)])]),i("div",{staticClass:"info"},[i("p",{staticClass:"name"},[t._v(t._s(this.info.nickname))]),i("div",{staticClass:"sex"},[i("p",{staticClass:"sex-img"},[i("van-image",{attrs:{round:"",width:"0.5rem",height:"0.5rem",fit:"cover",src:a("c777")}})],1),i("p",{staticClass:"sex-word"},[i("span",[t._v(t._s(this.info.id))])])]),t.correctInfo?i("div",{staticClass:"code"},[i("div",{staticClass:"say-hello"},[i("van-row",{attrs:{type:"flex",justify:"center"}},[i("van-col",{attrs:{span:"20"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.remark,expression:"remark"}],staticClass:"other",attrs:{rows:"3",cols:"20",placeholder:"Say Hello !",name:"Other"},domProps:{value:t.remark},on:{input:function(e){e.target.composing||(t.remark=e.target.value)}}})]),i("van-col",{attrs:{span:"4"}},[i("div",{staticClass:"images"},[i("van-image",{attrs:{width:"15px",height:"15px",src:a("2dda")}})],1)])],1)],1),i("div",{staticClass:"follow-btn"},[i("van-button",{staticClass:"btn",attrs:{type:"default"},on:{click:t.follow}},[t._v("follow")])],1)]):t._e()])]),t._m(0)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"code-bottom"},[a("p",[t._v(" Send this QR code to others. After scanning this QR, they can access to your data. ")])])}],n=(a("d3b7"),a("ac1f"),a("1276"),a("2b0e")),o=a("d399"),c=a("09e4"),r=a("7cb4"),l=a("995e"),d=a("c674"),A=a.n(d);n["default"].use(o["a"]);var f={data:function(){return{isPending:!1,email:"",remark:"",info:{},codeUrl:"",inviteKey:"",correctInfo:!0}},created:function(){this.email=this.$route.params.email,this.email&&""!==this.email?this.getUserInfo():(this.inviteKey=this.$route.params.inviteKey,this.inviteKey&&""!==this.inviteKey&&this.scanQRCode())},methods:{onClickLeft:function(){this.$router.push({name:"user"})},follow:function(){var t=this;if(!this.isPending){this.isPending=!0;var e={url:l["F"],data:{email:this.email,remark:this.remark}};Object(r["a"])(e).then((function(e){200===e.data.code?(console.log("发起关注成功..."),A()({type:"success",message:"Sent successfully."}),t.isPending=!1,t.$router.push("/user")):Object(c["a"])(e.data)})).catch((function(t){console.log(t)})).finally((function(){t.isPending=!1}))}},unfollow:function(){},getUserInfo:function(){var t=this;if(!this.isPending){this.isPending=!0;var e={url:l["t"],data:{email:this.email}};Object(r["a"])(e).then((function(e){if(200===e.data.code){t.correctInfo=!0,t.info=e.data.data,t.isPending=!1;var a=t.info.headImageUrl;if(a){var i=a.split("/");t.getResource(i[i.length-1])}}else console.log("getUserInfo eslse",e.data),t.correctInfo=!1,Object(c["a"])(e.data)})).catch((function(e){t.correctInfo=!1,console.log(e)})).finally((function(){t.isPending=!1}))}},scanQRCode:function(){var t=this;if(!this.isPending){this.isPending=!0;var e={url:l["G"],data:{inviteKey:this.inviteKey}};Object(r["a"])(e).then((function(e){if(200===e.data.code){t.correctInfo=!0,t.info=e.data.data,t.email=t.info.email,t.isPending=!1;var a=t.info.headImageUrl;if(a){var i=a.split("/");t.getResource(i[i.length-1])}}else t.correctInfo=!0,Object(c["a"])(e.data)})).catch((function(t){console.log(t)})).finally((function(){t.isPending=!1}))}},getResource:function(t){var e=this;if(!this.isPending){this.isPending=!0;var a={url:l["r"],data:{name:t,type:1}};Object(r["a"])(a).then((function(t){e.codeUrl="data:image/jpeg;base64,"+t.data})).catch((function(t){console.log(t)})).finally((function(){e.isPending=!1}))}}}},u=f,g=(a("2866"),a("f2a0"),a("2877")),h=Object(g["a"])(u,i,s,!1,null,"b9d0e9d0",null);e["default"]=h.exports},c6e3:function(t,e,a){},c777:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAE6ADAAQAAAABAAAAEwAAAAAgb1CmAAABkUlEQVQ4Ea1UvS8EQRx9u0ckCCcnuYRORHO9gloloaOgUGgo1IjEX6ARUV+h8FHplVrlhnC5VlZw4uNE3O14v53Zm82d45b7JZvdnXnvze9zgDaa852W8lZ7gaclBJiFgxygMoDzAAUPLk6BdN7J7b/WcxvElLc4h6C6S2C2Hhz79+Gm1pzcwXFsjefETHkLGxQ64tJPQsLICi7Ex/g1z4xHIpTM3NR85GEoFuYoKBWokoXbDYztAFcrwOAMn2mg+swtBqEqQPkG8A+5VksZQx4YlRx2aDeY7GahPZ4BdycaxmogPQmMbAOFdYpXZZ0pCfl7OmdStZZMkXdO74pA/4RlGL4WC8tv9379eqdY17CFGb6ppvRRAgvKQKonRtB8I8aGTGKdPPvzPsbQfC0mnZ3E+saZt2vLMHwtFo6I3Wv6JaENLQMVtsrbpYUZvmmNdB4obXG3sfMzU7pyDs8NPoCXC+CWcGu+zKr8tnUCdJiiKkPruptyQstGfDRKwql5Fgn859ZoEBPRv95nkUNteX8Bz+SKg7RBJKAAAAAASUVORK5CYII="},f2a0:function(t,e,a){"use strict";var i=a("29fe"),s=a.n(i);s.a}}]);